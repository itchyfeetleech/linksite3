<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Advanced CRT-themed biolink desktop environment with WebGL rendering">
  <title>Terminal Desktop</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600;700&family=IBM+Plex+Mono:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="green">
  <!-- WebGL CRT shader canvas -->
  <canvas id="crt-canvas" class="crt-canvas"></canvas>

  <!-- Main content layer -->
  <div id="content-layer" class="content-layer">
    <!-- Desktop environment -->
    <div id="desktop" class="desktop">
      <!-- Windows will be injected here -->
    </div>

    <!-- Taskbar -->
    <nav class="taskbar" role="navigation" aria-label="Taskbar">
      <button class="taskbar-start" aria-label="Start menu" aria-expanded="false">
        <span class="start-glyph" aria-hidden="true">â–¤</span>
        <span class="start-label">Start</span>
      </button>

      <div class="taskbar-pinned" role="list" aria-label="Pinned applications">
        <button class="pinned-app" data-app="links" aria-label="Links">
          <span class="app-icon">ðŸ”—</span>
        </button>
        <button class="pinned-app" data-app="console" aria-label="Analog Console">
          <span class="app-icon">ðŸ“Ÿ</span>
        </button>
        <button class="pinned-app" data-app="status" aria-label="Status Monitor">
          <span class="app-icon">ðŸ“Š</span>
        </button>
      </div>

      <div class="taskbar-windows" role="list" aria-label="Open windows">
        <!-- Open window indicators injected here -->
      </div>

      <div class="taskbar-status">
        <button class="status-capsule" aria-label="Toggle theme">
          <span class="status-theme">GRN</span>
        </button>
        <time class="taskbar-clock" datetime="">00:00</time>
      </div>
    </nav>

    <!-- Start menu -->
    <div class="start-menu" role="menu" aria-label="Start menu" hidden>
      <div class="start-menu-header">Applications</div>
      <div class="start-menu-items">
        <!-- Populated dynamically -->
      </div>
    </div>

    <!-- Debug overlay -->
    <div class="debug-overlay" hidden>
      <div class="debug-header">DEBUG DIAGNOSTICS</div>
      <div class="debug-content">
        <div class="debug-row"><span>Windows:</span> <span id="debug-windows">0</span></div>
        <div class="debug-row"><span>Focused:</span> <span id="debug-focused">â€”</span></div>
        <div class="debug-row"><span>Viewport:</span> <span id="debug-viewport">â€”</span></div>
        <div class="debug-row"><span>Theme:</span> <span id="debug-theme">green</span></div>
        <div class="debug-row"><span>FPS:</span> <span id="debug-fps">â€”</span></div>
        <div class="debug-row"><span>Shader:</span> <span id="debug-shader">WebGL</span></div>
      </div>
    </div>
  </div>

  <!-- Particle effects container -->
  <div id="particles" class="particles"></div>

  <!-- CRT Effects Overlay -->
  <div class="crt-effects">
    <div class="crt-scanline-overlay"></div>
    <div class="crt-flicker"></div>
    <div class="crt-vhs-tracking"></div>
  </div>

  <!-- Boot Overlay -->
  <div id="boot-overlay" class="boot-overlay">
    <div class="boot-screen">
      <div class="boot-scanline"></div>
      <div class="boot-content"></div>
    </div>
  </div>

  <script src="crt-shader.js"></script>
  <script src="effects.js"></script>
  <script src="app.js"></script>

  <!-- Optional: Ambient Audio -->
  <audio id="ambient-hum" loop>
    <source src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQAAAAA=" type="audio/wav">
  </audio>
</body>
</html>
